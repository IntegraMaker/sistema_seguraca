<!DOCTYPE html>
<html lang="pt-br" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cadastro pessoa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    

</head>
<body>

  {% include "navBar.html" %}

  <div class="container d-flex justify-content-center align-items-center" style="height: 60vh;">
    <div class="container d-flex flex-column" style="width: 400px;">

        <h1 class="fw-normal h1">registrar visita</h1>

        <form class="mb-3" action="/cadastro_visita" method="post">

            <input class="mt-3 form-control" type="text" placeholder="CPF do visitante" id="cpf" name="cpf" value="{{ cpf | default('') }}">
            <input class="mt-3 form-control" id="floatingInput" type="text" placeholder="motivo da visita" name="motivo">               
          
            <button class="btn btn-primary mt-4" style="width: 100%;">REGISTRAR</button>

        </form>

    </div>
  </div>

<div class="container">
  <table class="table table-striped">
    <tr>
      <th>CPF</th>
      <th>Motivo</th>
      <th>Data</th>
    </tr>
    {% for visita in listaVisitas["visitas"] %}
    <tr>
      <th>{{visita["cpf"]}}</th>
      <th>{{visita["motivo"]}}</th>
      <th>{{visita["data"]}}</th>
    </tr>
    {% endfor %}
  </table>
</div>

<div class="container d-flex justify-content-center align-items-center">
  <nav aria-label="Páginas de visita" >
    <ul class="pagination pagination-sm">
      {% set lista = listaPessoas %}
      {% set current_page = lista.paginaAtual %}
      {% set total_pages = lista.paginas %}

      <li class="page-item {% if current_page == 1 %}disabled{% endif %}">
        <a class="page-link" href="{% if current_page > 1 %}?page={{ current_page - 1 }}{% endif %}" aria-label="Anterior">
          <span aria-hidden="true">Anterior</span>
        </a>
      </li>

      {% for page_num in range(1, total_pages + 1) %}
        <li class="page-item {% if page_num == current_page %}active{% endif %}">
          <a class="page-link" href="?page={{ page_num }}" {% if page_num == current_page %}aria-current="page"{% endif %}>
            {{ page_num }}
          </a>
        </li>
      {% endfor %}

      <li class="page-item {% if current_page == total_pages %}disabled{% endif %}">
        <a class="page-link" href="{% if current_page < total_pages %}?page={{ current_page + 1 }}{% endif %}" aria-label="Próxima">
          <span aria-hidden="true">Próxima</span>
        </a>
      </li>
    </ul>
  </nav>
</div>
  

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js" integrity="sha384-7qAoOXltbVP82dhxHAUje59V5r2YsVfBafyUDxEdApLPmcdhBPg1DKg1ERo0BZlK" crossorigin="anonymous"></script>
</body>
</html>